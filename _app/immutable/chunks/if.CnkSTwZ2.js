import{an as y,G as b,ao as S,Q as A,V as m,am as q,ap as R,ac as x,i as B,j as g,k as D,aq as O,ar as F,as as P,w as W,B as E,at as T,l as k,au as N,o as j,ah as C}from"./utils.DFTM5cE0.js";function G(a){var r=S,s=A;y(null),b(null);try{return a()}finally{y(r),b(s)}}const H=new Set,M=new Set;function Q(a,r,s,i){function t(e){if(i.capture||U.call(r,e),!e.cancelBubble)return G(()=>s.call(this,e))}return a.startsWith("pointer")||a.startsWith("touch")||a==="wheel"?q(()=>{r.addEventListener(a,t,i)}):r.addEventListener(a,t,i),t}function Y(a,r,s,i,t){var e={capture:i,passive:t},l=Q(a,r,s,e);(r===document.body||r===window||r===document)&&m(()=>{r.removeEventListener(a,l,e)})}function Z(a){for(var r=0;r<a.length;r++)H.add(a[r]);for(var s of M)s(a)}function U(a){var w;var r=this,s=r.ownerDocument,i=a.type,t=((w=a.composedPath)==null?void 0:w.call(a))||[],e=t[0]||a.target,l=0,_=a.__root;if(_){var f=t.indexOf(_);if(f!==-1&&(r===document||r===window)){a.__root=r;return}var h=t.indexOf(r);if(h===-1)return;f<=h&&(l=f)}if(e=t[l]||a.target,e!==r){R(a,"currentTarget",{configurable:!0,get(){return e||s}});var d=S,c=A;y(null),b(null);try{for(var n,o=[];e!==null;){var u=e.assignedSlot||e.parentNode||e.host||null;try{var v=e["__"+i];if(v!==void 0&&!e.disabled)if(x(v)){var[I,...L]=v;I.apply(e,[a,...L])}else v.call(e,a)}catch(p){n?o.push(p):n=p}if(a.cancelBubble||u===r||u===null)break;e=u}if(n){for(let p of o)queueMicrotask(()=>{throw p});throw n}}finally{a.__root=r,delete a.currentTarget,y(d),b(c)}}}function z(a,r,s=!1){g&&D();var i=a,t=null,e=null,l=C,_=s?O:0,f=!1;const h=(c,n=!0)=>{f=!0,d(n,c)},d=(c,n)=>{if(l===(l=c))return;let o=!1;if(g){const u=i.data===F;!!l===u&&(i=P(),W(i),E(!1),o=!0)}l?(t?T(t):n&&(t=k(()=>n(i))),e&&N(e,()=>{e=null})):(e?T(e):n&&(e=k(()=>n(i))),t&&N(t,()=>{t=null})),o&&E(!0)};B(()=>{f=!1,r(h),f||d(null,null)},_),g&&(i=j)}export{H as a,Z as d,Y as e,U as h,z as i,M as r};
